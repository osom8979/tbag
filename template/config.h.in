/**
 * @file   config.h
 * @brief  Program config header.
 * @author zer0
 * @date   2016-02-23
 * @date   2016-04-18 (Remove prefix.h)
 */

#ifndef __INCLUDE_${MAIN_NAME_UPPER}__${MAIN_NAME_UPPER}_CONFIG_H__
#define __INCLUDE_${MAIN_NAME_UPPER}__${MAIN_NAME_UPPER}_CONFIG_H__

/* MS compatible compilers support #pragma once */
#if defined(_MSC_VER) && (_MSC_VER >= 1020)
#pragma once
#endif

#if defined(UNICODE) || defined(_UNICODE)
#error "Don't using UNICODE from the main project."
#endif

#ifndef TO_STRING_IMP
#define TO_STRING_IMP(m) #m
#endif

#ifndef TO_STRING
#define TO_STRING(x) TO_STRING_IMP(x)
#endif

#ifndef LINE_STRING
#define LINE_STRING TO_STRING(__LINE__)
#endif

#ifndef FILE_STRING
#define FILE_STRING __FILE__
#endif

#ifndef DATE_STRING
#define DATE_STRING __DATE__
#endif

#ifndef TIME_STRING
#define TIME_STRING __TIME__
#endif

/* ---------------- */
/* Debugging macros */
/* ---------------- */

#ifndef __DATETIME__
#define __DATETIME__  DATE_STRING  "T" TIME_STRING
#endif

#ifndef __LOCATION__
#define __LOCATION__  FILE_STRING  ":" LINE_STRING
#endif

#ifndef DEBUG_STAMP
#define DEBUG_STAMP   __DATETIME__ " " __LOCATION__
#endif

/* ------------- */
/* Common macros */
/* ------------- */

#ifndef VERSION_SEPARATOR
#define VERSION_SEPARATOR "."
#endif

/** Unused parameter macro. */
#ifndef UNUSED_PARAM
#define UNUSED_PARAM(x)
#endif

#ifndef NAMELESS
#define NAMELESS(x)
#endif

#ifndef __EMPTY_BLOCK__
#define __EMPTY_BLOCK__
#endif

/** Remove unused declaration warning. */
#ifndef REMOVE_UNUSED_DECLARATION
#define REMOVE_UNUSED_DECLARATION(name, x) \
    inline void __remove_##unused##name##__() \
    { x; }
#endif

/** Remove unused variables warning. */
#ifndef REMOVE_UNUSED_VARIABLE
#define REMOVE_UNUSED_VARIABLE(x) \
    if (x) { }
#endif

#ifndef COMPARE_AND
#define COMPARE_AND(x) (x) && (x)
#endif

#ifndef COMPARE_OR
#define COMPARE_OR(x) (x) || (x)
#endif

#ifndef NAMESPACE_ANONYMOUS
# define NAMESPACE_ANONYMOUS
# if defined(__cplusplus)
#  define NAMESPACE_ANONYMOUS_OPEN   namespace {
#  define NAMESPACE_ANONYMOUS_CLOSE  }
# else /* __cplusplus */
#  define NAMESPACE_ANONYMOUS_OPEN
#  define NAMESPACE_ANONYMOUS_CLOSE
# endif /* __cplusplus */
#endif

/* ------------------------- */
/* Windows platform version. */
/* ------------------------- */

#if defined(_WIN32) || defined(_WIN64) || \
    defined(__WIN32__) || defined(__TOS_WIN__) || \
    defined(__WINDOWS__)
# ifndef WIN32_LEAN_AND_MEAN
# define WIN32_LEAN_AND_MEAN
# endif

# ifndef _WIN32_WINNT
# define _WIN32_WINNT 0x0600
# endif

# ifndef _WIN32_WINDOWS
# define _WIN32_WINDOWS 0x0410
# endif

/* Minimum platform version. */
# ifndef WINVER
# define WINVER _WIN32_WINNT
# endif

/* Minimum internet explorer version. */
# ifndef _WIN32_IE
# define _WIN32_IE 0x0700
# endif
#endif

/* ------------------------------ */
/* Automatically generate macros. */
/* ------------------------------ */

/**
 * @defgroup __DOXYGEN_GROUP__PREFIX_INFORMATION__ Prefix information
 * @brief Prefix information group.
 * @{
 */

#define ${MAIN_NAME_UPPER}_TITLE_NAME        ${MAIN_NAME}
#define ${MAIN_NAME_UPPER}_TITLE_NAME_UPPER  ${MAIN_NAME_UPPER}

#define ${MAIN_NAME_UPPER}_VERSION_MAJOR  ${VERSION_MAJOR}
#define ${MAIN_NAME_UPPER}_VERSION_MINOR  ${VERSION_MINOR}
#define ${MAIN_NAME_UPPER}_VERSION_PATCH  ${VERSION_PATCH}
#define ${MAIN_NAME_UPPER}_VERSION_TWEAK  "${VERSION_TWEAK}"

#define ${MAIN_NAME_UPPER}_VERSION_PACKET_MAJOR  ${VERSION_PACKET_MAJOR}
#define ${MAIN_NAME_UPPER}_VERSION_PACKET_MINOR  ${VERSION_PACKET_MINOR}
#define ${MAIN_NAME_UPPER}_VERSION_RELEASE       ${VERSION_RELEASE}

#ifndef NAMESPACE_${MAIN_NAME_UPPER}
#define NAMESPACE_${MAIN_NAME_UPPER} ${MAIN_NAME_UPPER}_TITLE_NAME
# if defined(__cplusplus)
#  define NAMESPACE_${MAIN_NAME_UPPER}_OPEN   namespace NAMESPACE_${MAIN_NAME_UPPER} {
#  define NAMESPACE_${MAIN_NAME_UPPER}_CLOSE  }
#  define USING_NAMESPACE_${MAIN_NAME_UPPER}  using namespace NAMESPACE_${MAIN_NAME_UPPER};
# else /* __cplusplus */
#  define NAMESPACE_${MAIN_NAME_UPPER}_OPEN
#  define NAMESPACE_${MAIN_NAME_UPPER}_CLOSE
#  define USING_NAMESPACE_${MAIN_NAME_UPPER}
# endif /* __cplusplus */
#endif

#if defined(__cplusplus)
NAMESPACE_${MAIN_NAME_UPPER}_OPEN
NAMESPACE_${MAIN_NAME_UPPER}_CLOSE
#endif /* __cplusplus */

#define ${MAIN_NAME_UPPER}_VERSION_STRING \
    TO_STRING(${MAIN_NAME_UPPER}_VERSION_MAJOR)  VERSION_SEPARATOR \
    TO_STRING(${MAIN_NAME_UPPER}_VERSION_MINOR)  VERSION_SEPARATOR \
    TO_STRING(${MAIN_NAME_UPPER}_VERSION_PATCH)

#define ${MAIN_NAME_UPPER}_TITLE_STRING  TO_STRING(${MAIN_NAME_UPPER}_TITLE_NAME)
#define ${MAIN_NAME_UPPER}_TITLE_PREFIX  "[" ${MAIN_NAME_UPPER}_TITLE_STRING "]"

/** Main Title. */
#define ${MAIN_NAME_UPPER}_MAIN_TITLE \
    ${MAIN_NAME_UPPER}_TITLE_STRING " v" ${MAIN_NAME_UPPER}_VERSION_STRING

/**
 * @}
 */

#endif /* __INCLUDE_${MAIN_NAME_UPPER}__${MAIN_NAME_UPPER}_CONFIG_H__ */

